<html>
  <head>
    <meta charset="utf-8">
    <title>らんだむにでっきつくるやつ</title>
 </head>
  <body>
    <br>
    <div style="text-align: center">
      <button onclick="generate()">デッキ作成</button>
    </div>
    <br>
    <br>
    <div id="list"></div>
  </body>
  <script>
    function shuffle(arr){
      for(var i =arr.length-1 ; i>0 ;i--){
        var j = Math.floor( Math.random() * (i + 1) );
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
    }
    function generate() {
      fetch('cards.txt')
        .then(response => response.text())
        .then(data => {
          let cards = data.repeat(4).split('\n');
          shuffle(cards);
          document.getElementById("list").innerHTML = cards.slice(0, 40)
            .map(id => '<img src="https://dmps.takaratomy.co.jp/card/img/card/' + id + '.png" width="180">')
            .join('\n');
        })
    }
  </script>
</html>
